# QA-T1228 (1.0) - Авторизация - распознавание данных (email / телефон)

## Details

| Key            | Value                                                                                              |
|----------------|----------------------------------------------------------------------------------------------------|
| **Key**        | QA-T1228                                                                                            |
| **Name**       | Авторизация - распознавание данных (email / телефон)                                                |
| **Objective**  | Система корректно распознает введенные данные - email или телефон, в зависимости от этого: <br> - подстраивается интерфейс <br> - проверяется валидация <br> - проверяется верификация (наличие зарегистрированного контакта в БД) <br> - код отправляется на введенный контакт |
| **Precondition** | Подготовить данные зарегистрированных пользователей: <br> - телефон <br> - email                  |
| **Priority**   | Normal                                                                                              |

## Test Script

| №  | Step                                                                                                      | Test Data                     | Expected Result                                                                                                     |
|----|-----------------------------------------------------------------------------------------------------------|-------------------------------|---------------------------------------------------------------------------------------------------------------------|
| 1  | Неавторизованным перейти к форме авторизации. В поле ввести номер телефона зарегистрированного аккаунта. Нажать "войти". | Пример данных: 79135609983    | Значение принято успешно, система не подсвечивает ошибки. <br> Происходит переход к следующему модальному окну: "Проверьте правильность...". <br> В модальном окне система распознала телефон и предлагает выслать код в смс. |
| 2  | Вернуться назад. Отредактировать номер, ввести также зарегистрированный на сайте номер телефона. Нажать "войти". | Пример данных: 79135609984    | Значение принято успешно, система не подсвечивает ошибки. <br> Происходит переход к следующему модальному окну: "Проверьте правильность...". <br> В модальном окне система распознала телефон и предлагает выслать код в смс. |
| 3  | Запросить код в смс.                                                                                       | Нет                           | Запускается таймер 1 минуты. <br> Код приходит в смс на последний указанный номер.                                  |
| 4  | Ввести код в следующем модальном окне. Подтвердить вход.                                                   | Пример данных: 1456           | Пользователь авторизован и автоматически перемещен на страницу, с которой переходил к авторизации.                  |
| 5  | Разлогиниться. Неавторизованным перейти к форме авторизации. Ввести email зарегистрированного аккаунта. Нажать "войти". | Пример данных: test@bk.ru     | Значение принято успешно, система не подсвечивает ошибки. <br> Происходит переход к следующему модальному окну: "Проверьте правильность...". <br> В модальном окне система распознала email и предлагает выслать код в письме. |
| 6  | Вернуться назад. Отредактировать email, ввести также зарегистрированный на сайте email. Нажать "войти".    | Пример данных: test1@bk.ru    | Значение принято успешно, система не подсвечивает ошибки. <br> Происходит переход к следующему модальному окну: "Проверьте правильность...". <br> В модальном окне система распознала email и предлагает выслать код в письме. |
| 7  | Запросить код в письме.                                                                                    | Нет                           | Запускается таймер 1 минуты. <br> Код приходит в письме на последний указанный email.                                |
| 8  | Ввести код в следующем модальном окне. Подтвердить вход.                                                   | Пример данных: 1456           | Пользователь авторизован и автоматически перемещен на страницу, с которой переходил к авторизации.                  |
| 9  | Проверить распознавание email, начинающегося с цифр.                                                       | Пример данных: 89123@dckjf.ru | По мере ввода email распознается системой.                                                                          |
